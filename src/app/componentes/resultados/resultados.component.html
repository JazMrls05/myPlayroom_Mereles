<div id="div-fondo">
    <h2>Mis Resultados</h2>

    <mat-form-field >
        <mat-label>Filtrar / Ordenar</mat-label>
        <mat-select [(value)]="filtroSeleccionado" (selectionChange)="aplicarFiltro()">
            <mat-option value="">Todos</mat-option>
            <mat-option value="juego">Filtrar por Juego</mat-option>
            <mat-option value="puntaje">Ordenar Puntaje Desc</mat-option>
            <mat-option value="fecha">Ordenar Fecha Desc</mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field *ngIf="filtroSeleccionado === 'juego'">
        <mat-label>Seleccionar Juego</mat-label>
        <mat-select [(value)]="juegoSeleccionado" (selectionChange)="aplicarFiltro()">
        <mat-option *ngFor="let j of juegosDisponibles" [value]="j">{{ j }}</mat-option>
        </mat-select>
    </mat-form-field>

    <div id="espacio-tabla">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
            <ng-container matColumnDef="juego">
            <th mat-header-cell *matHeaderCellDef>Juego</th>
            <td mat-cell *matCellDef="let p">{{ p.juego }}</td>
            </ng-container>

            <ng-container matColumnDef="alias">
            <th mat-header-cell *matHeaderCellDef>Jugador</th>
            <td mat-cell *matCellDef="let p">{{ p.alias }}</td>
            </ng-container>

            <ng-container matColumnDef="puntaje">
            <th mat-header-cell *matHeaderCellDef>Puntaje</th>
            <td mat-cell *matCellDef="let p">{{ p.puntaje }}</td>
            </ng-container>

            <ng-container matColumnDef="fecha">
            <th mat-header-cell *matHeaderCellDef>Fecha</th>
            <td mat-cell *matCellDef="let p">{{ p.fecha | date: 'short' }}</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns" [style.backgroundColor]="obtenerColor(row.juego)"></tr>
        </table>
    </div>

    <div id="div-botones">
        <mat-paginator [pageSizeOptions]="[5, 10]" showFirstLastButtons></mat-paginator>
        <button mat-flat-button routerLink="/home">Volver al Homeüè†</button>
    </div>
    
</div>
